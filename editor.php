<?php// Precisando de ajuda para desenvolver o seu sistema? acesse sistema-web-para.com.br e contrate uma assessoria...require_once('inc.verifica.php');require_once('inc.funcoes.php');if($_SESSION['id_usuarios'] > 1){header('Location: ./?sair=true');exit;}if($_POST){grava_arquivo(base64_decode($_GET['arquivo']), $_POST['fonte']);}$exibidos[] = '';?><!doctype html><html><head><?php$ttitulo = 'Editor de Arquivos - Sistema Web Para';include('inc.head.php');?><style type="text/css" media="screen">body{background-color: #000;}.ace_editor {height: auto;width: auto;border: 0;margin: 0;position: fixed !important;top: 51px;bottom: 0;left: 0;right: 0;z-index: 10;}}</style></head><body><form action="" method="post" id="form1"><!-- Static navbar --><nav class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="#"><i class="fas fa-code"></i> "<?php echo strip_tags(base64_decode($_GET['arquivo'])); ?>"</a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav"><li class="active"><a href="#" title="Salvar" onclick="window.form1.submit();"><i class="fas fa-save"></i></a></li><!--<li><a href="#" title="Novo"><i class="fas fa-file"></i></a></li>--><!--<li><a href="#" title="Salvar Como"><i class="far fa-file"></i></a></li>--><!--<li><a href="#" title="Excluir"><i class="fas fa-eraser"></i></a></li>--></ul><ul class="nav navbar-nav navbar-right"><?php$grupos = array('inc.componente','inc.filtro','inc.','ajax.');for($y=0;$y<count($grupos);$y++){?><li class="dropdown active"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fas fa-folder-open"></i> <?php echo $grupos[$y] ?>*<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><?php$arquivos = arquivos_em_ordem('./');for($x=0;$x<conta($arquivos);$x++){if(substr($arquivos[$x], 0, strlen($grupos[$y])) == $grupos[$y] && substr($arquivos[$x], -4, 4) == '.php' && !in_array($arquivos[$x], $exibidos)){$exibidos[] = $arquivos[$x];?><li><a href="editor.php?arquivo=<?php echo base64_encode($arquivos[$x]); ?>"><?php echo $arquivos[$x] ?></a></li><?php}}?></ul></li><?php}?><?php$grupos = array('-cadastrar.php','-listar.php','.php');for($y=0;$y<count($grupos);$y++){?><li class="dropdown active"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fas fa-folder-open"></i> *<?php echo $grupos[$y] ?><span class="caret"></span></a><ul class="dropdown-menu" role="menu"><?php$arquivos = arquivos_em_ordem('./');for($x=0;$x<conta($arquivos);$x++){if(substr($arquivos[$x], -strlen($grupos[$y]), strlen($grupos[$y])) == $grupos[$y] && substr($arquivos[$x], -4, 4) == '.php' && !in_array($arquivos[$x], $exibidos)){$exibidos[] = $arquivos[$x];?><li><a href="editor.php?arquivo=<?php echo base64_encode($arquivos[$x]); ?>"><?php echo $arquivos[$x] ?></a></li><?php}}?></ul></li><?php}?><li class="dropdown active"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fas fa-folder-open"></i> css/*<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><?php$arquivos = arquivos_em_ordem('css/');for($x=0;$x<conta($arquivos);$x++){?><li><a href="editor.php?arquivo=<?php echo base64_encode('css/'.$arquivos[$x]); ?>"><?php echo $arquivos[$x] ?></a></li><?php}?></ul></li><li class="dropdown active"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fas fa-folder-open"></i> js/*<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><?php$arquivos = arquivos_em_ordem('js/');for($x=0;$x<conta($arquivos);$x++){?><li><a href="editor.php?arquivo=<?php echo base64_encode('js/'.$arquivos[$x]); ?>"><?php echo $arquivos[$x] ?></a></li><?php}?></ul></li></ul></div></div></nav><input type="hidden" name="fonte" id="fonte" value=""><textarea id="editor"><?php echo file_get_contents(base64_decode($_GET['arquivo'])); ?></textarea></form><script src="js/jquery.min.js"></script><!-- Latest compiled and minified JavaScript --><script src="js/bootstrap.min.js"></script><!-- load ace --><script src="js/ace.js"></script><!-- load ace themelist extension --><script src="js/ext-themelist.js"></script><script src="js/jquery.min.js"></script><?php$extensao = str_replace('.', '', strrchr(base64_decode($_GET['arquivo']), '.'));if($extensao == 'js'){$extensao = 'javascript';}?><script>var editor = ace.edit('editor');editor.setTheme("ace/theme/monokai");editor.session.setMode("ace/mode/<?php echo $extensao ?>");var input = $('input[name="fonte"]');input.val(editor.getSession().getValue());editor.getSession().on("change", function () {input.val(editor.getSession().getValue());});editor.getSession().setUseWrapMode(true);editor.container.style.lineHeight = 1.2;editor.setFontSize(14);editor.renderer.updateFontSize();</script></body></html>